group 'dk.sdu.cloud'
version '1.3.0-KAFKA.0'

apply plugin: 'application'
mainClassName = "dk.sdu.cloud.app.MainKt"

apply from: "https://raw.githubusercontent.com/SDU-eScience/GradleBootstrap/v0.2.8/sdu-cloud.gradle"

dokka {
    outputFormat = "gfm"
    outputDirectory = "$projectDir/docs"

    includes = ["docs/api.md"]
}

buildscript {
    ext.serviceCommonVersion = '1.3.0-KAFKA.12'
    ext.fileApiVersion = "1.4.0-KAFKA.12"
}

dependencies {
    compile "org.jetbrains.kotlin:kotlin-reflect:$kotlin_version"
    compile group: 'com.jcraft', name: 'jsch', version: '0.1.54'

    compile "dk.sdu.cloud:service-common:${serviceCommonVersion}"
    compile "dk.sdu.cloud:file-api:${fileApiVersion}"
    compile "dk.sdu.cloud:auth-api:1.21.0-KAFKA.0"
    compile 'com.vladmihalcea:hibernate-types-52:2.4.1'

    compile 'com.fasterxml.jackson.dataformat:jackson-dataformat-yaml:2.9.4'
    testCompile "dk.sdu.cloud:service-common-test:${serviceCommonVersion}"
}

sduCloud.createTasksForApiJar(
        "app",
        [
                "dk.sdu.cloud:file-api:${fileApiVersion}"
        ]
)
